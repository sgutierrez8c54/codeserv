### Color-Distance Sensor
A sensor is a device that lets the Robot Controller get information about its environment.  In this example, you will use a REV Robotics Color-Distance sensor to display range (distance from an object) info to the driver station.

The Color-Range sensor uses reflected light to determine the distance from the sensor to the target object.  It can be used to measure close distances (up 5” or more) with reasonable accuracy.  Note that at the time this document was most recently edited, the REV Color-Range sensor saturates around 2” (5cm).  This means that for distances less than or equal to 2”, the sensor returns a measured distance equal to 2” or so.

Note that it will take an estimated 15 minutes to complete this task.

| Modifying the Op Mode to Display Distance |
| ---- |
| 1. Verify that your laptop is still connected to the Robot Controller’s Program & Manage Wi-Fi network. |
| 2. Verify that “MyFIRSTOpMode” is opened for editing. If it is not, you can click on the FIRST logo in the upper left hand corner of the browser window on the laptop.  This should take you to the main FTC Blocks Development Tool project screen.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/DistanceSensorStep2ControlHub.jpg" width="350"></p>Click on the “MyFIRSTOpMode” project to open it for editing if it is not already opened. |
| 3. Click on the “Utilities” category on the left-hand side of your browser.  Find and click on the “Telemetry” subcategory.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/DistanceSensorStep3ControlHub.jpg" width="175"></p> |
| 4. Select the “call telemetry.addData” block (the numeric version) and drag it to the spot in your “while” loop block immediately before the “telemetry.update” block.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/DistanceSensorStep4ControlHub.jpg" width="400"></p> |
| 5. Click and highlight the “key” text and change the text so it reads “Distance (cm)”.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/DistanceSensorStep5ControlHub.jpg" width="400"></p> |
| 6. Click and expand the “Sensors” category.  Click on the “REV Color/Range Sensor” subcategory. Click on and select the “call sensorColorRange.getDistance” programming block.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/DistanceSensorStep6ControlHub.jpg" width="600"></p>Note that earlier versions of the FTC Blocks Programming tool refer to the REV Robotics Color-Distance Sensor as the "LynxI2cColorRangeSensor".  Newer versions of the software refer to the device as the "REV Color/Range Sensor". |
| 7. Drag the “call sensorColorRange.getDistance” programming block to the “number” field of the “call telemetry.addData” programming block.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/DistanceSensorStep7ControlHub.jpg" width="500"></p>This will send the measured distance to the target in centimeters back to the Driver Station. |
| 8. Save your op mode and verify that it was saved successfully to the Robot Controller.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/DistanceSensorStep8ControlHub.jpg" width="500"></p> |
| 9. Follow the procedure outlined in the section titled [Running Your Op Mode](https://github.com/ftctechnh/ftc_app/wiki/Running-Your-Op-Mode) to run your updated op mode.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/DistanceSensorStep9ControlHub.jpg" width="350"></p>As you run the op mode, if you move your hand above the color light sensor, you should see the measured distance change on the Driver Station screen.  If the expression “NaN” (not a number) is displayed on the Driver Station, the target is most likely out of range (and the sensor does not detect any reflected light). |

### Touch Sensor

The REV Robotics Touch Sensor can be connected to a digital port on the Expansion Hub.  The Touch Sensor is HIGH (returns TRUE) when it is not pressed.  It is pulled LOW (returns FALSE) when it is pressed.

<p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/REVTouchSensor.jpg" width="190"><p>

The Expansion Hub digital ports contain two digital pins per port.  When you use a 4-wire JST cable to connect a REV Robotics Touch sensor to an Expansion Hub digital port, the Touch Sensor is wired to the second of the two digital pins within the port.  The first digital pin of the 4-wire cable remains disconnected.

For example, if you connect a Touch Sensor to the “0,1” digital port of the Expansion Hub, the Touch Sensor will be connected to the second pin (labeled “1”) of the port.  The first pin (labeled “0”) will stay disconnected.

Note that it will take an estimated 15 minutes to complete this task.

| Modifying the Op Mode to Display Button (Touch Sensor) State|
| ---- |
| 1. Place the Robot Controller in Programming Mode.  Verify that your laptop is still connected to the Robot Controller’s Programming Mode Wi-Fi network.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/TouchSensorOpModeStep1.jpg" width="175"></p> |
| 2. Verify that “MyFIRSTOpMode” is opened for editing. If it is not, you can click on the FIRST logo in the upper left hand corner of the browser window on the laptop.  This should take you to the main FTC Blocks Development Tool project screen.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/TouchSensorOpModeStep2.jpg" width="400"></p>Click on the “MyFIRSTOpMode” project to open it for editing if it is not already opened. |
| 3. Click on the “Other Devices” category to expand it.  If you configured the touch sensor as a digital device, you should see the “Digital Channel” subcategory. Click on “Digital Channel” to display the list of available programming blocks.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/TouchSensorOpModeStep3.jpg" width="200"></p> |
| 4. Select the “set digitalTouch.Mode to” block and drag it to the position after the “Put initialization blocks here” comment. By default, this block will set the digital channel named “digitalTouch” to input mode.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/TouchSensorOpModeStep4.jpg" width="400"></p> |
| 5. Click on the “Logic” category.  Find and click on the “if do else” block.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/TouchSensorOpModeStep5.jpg" width="175"></p> |
| 6. Drag the “if do else” block to the position before the “telemetry.update” block.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/TouchSensorOpModeStep6.jpg" width="175"></p> |
| 7. Click on the “Other Devices” category to expand it.   Click on the “Digital Channel” subcategory, then find and select the “digitalTouch.State” block.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/TouchSensorOpModeStep7.jpg" width="175"></p> |
| 8. Drag the “digitalTouch.State” block to the test condition of the “if do else” programming block.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/TouchSensorOpModeStep8.jpg" width="300"></p> |
| 9. Click on the “Utilities” category on the left-hand side of your browser.  Find and click on the “Telemetry” subcategory.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/TouchSensorOpModeStep9.jpg" width="300"></p>Select the “call telemetry.addData” block (the numeric version) and drag it to the “do” clause of the “if do else” block. |
| 10. Change the “key” value to “digitalTouch” and the “text” value to “NOT pressed (HIGH)”.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/TouchSensorOpModeStep10.jpg" width="300"></p>If the op mode detects that the “digitalTouch” channel is HIGH, it will send a telemetry message indicating that the button is not pressed. |
| 11. Change the “key” value to “digitalTouch” and the “text” value to “NOT pressed (HIGH)”.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/TouchSensorOpModeStep11.jpg" width="400"></p>If the op mode detects that the “digitalTouch” channel is HIGH, it will send a telemetry message indicating that the button is not pressed. |
| 12. Save your op mode and verify that it was saved successfully to the Robot Controller.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/TouchSensorOpModeStep12.jpg" width="400"></p> |
| 13. Follow the procedure outlined in the section titled [Running Your Op Mode](https://github.com/ftctechnh/ftc_app/wiki/Running-Your-Op-Mode) to run your updated op mode.<br/><br/><p align="center"><img src="https://github.com/FIRST-Tech-Challenge/WikiSupport/blob/master/ftc_app/images/TouchSensorOpModeStep13.jpg" width="175"></p>As you run the op mode and push or release the button, the telemetry message on the Driver Station should update to reflect the current state of the digital Touch Sensor. |

